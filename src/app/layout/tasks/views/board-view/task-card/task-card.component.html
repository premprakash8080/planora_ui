<div class="task-card" cdkDragPreview>
    <!-- Header: checkbox + name -->
    <div class="task-header">
      <mat-checkbox
        [checked]="task.completed"
        (click)="$event.stopPropagation()"
        color="primary"
        class="task-checkbox"
      ></mat-checkbox>
  
      <span class="task-name" [title]="task.name">
        {{ task.name }}
      </span>
    </div>
  
    <!-- Priority + Status pills -->
    <div class="task-tags">
      <span
        class="pill priority-pill"
        [ngClass]="task.priority.toLowerCase()"
      >{{ task.priority }}</span>
  
      <span
        class="pill status-pill"
        [ngClass]="getStatusClass()"
      >{{ task.status }}</span>
    </div>
  
    <!-- Footer: avatar + due date + attachments + more -->
    <div class="task-footer">
      <app-avatar
        *ngIf="task.assigneeInitials"
        size="sm"
        [initials]="task.assigneeInitials"
        [color]="task.assigneeColor!"
        class="assignee-avatar"
      ></app-avatar>
  
      <span class="due-date" *ngIf="task.dueDate">
        {{ task.dueDate }}
      </span>
  
      <!-- Attachment count (from screenshot) -->
      <span class="attachment-count" *ngIf="task.attachmentCount">
        {{ task.attachmentCount }} attachment
      </span>
  
      <mat-icon class="more-icon">more_horiz</mat-icon>
    </div>
  </div>