.compose-form {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-top: 8px;

  .full-width {
    width: 100%;
  }

  .form-field-wrapper {
    display: flex;
    flex-direction: column;
    width: 100%;
    position: relative;
    margin-bottom: 4px; // Match mat-form-field spacing

    // Match mat-form-field label styling (floating label)
    .form-label {
      position: absolute;
      top: -6px;
      left: 14px;
      background: var(--color-surface, #ffffff);
      padding: 0 4px;
      font-size: 12px;
      font-weight: 400;
      color: rgba(0, 0, 0, 0.6);
      z-index: 1;
      pointer-events: none;
      transform-origin: left top;
      transition: color 400ms cubic-bezier(0.25, 0.8, 0.25, 1), transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1);
    }
  }
}

.recipient-trigger {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 12px;
  min-height: 56px; // Match mat-form-field input height
  padding: 16px 14px; // Match mat-form-field padding
  border: 1px solid rgba(0, 0, 0, 0.38); // Match mat-form-field border
  border-radius: 4px; // Match mat-form-field border radius
  background: var(--color-surface, #ffffff);
  cursor: pointer;
  transition: border-color 0.15s ease, box-shadow 0.15s ease;
  text-align: left;
  font-size: 16px; // Match mat-form-field font size
  color: var(--color-text-body, rgba(0, 0, 0, 0.87));
  box-sizing: border-box;
  margin: 0; // Remove any default margins

  &:hover {
    border-color: rgba(0, 0, 0, 0.87);
  }

  &:focus,
  &:focus-visible {
    outline: none;
    border-color: var(--mat-primary-color, #3f51b5);
    border-width: 2px;
    padding: 15px 13px; // Adjust padding to account for thicker border
  }

  .recipient-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0;

    .recipient-name {
      font-weight: 500;
      color: var(--color-text-heading, #111827);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .recipient-email {
      font-size: 12px;
      color: var(--color-text-subtle, #6b7280);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
  }

  .recipient-placeholder {
    flex: 1;
    color: var(--color-text-subtle, #6b7280);
    text-align: left;
  }

  .recipient-expand {
    font-size: 20px;
    color: var(--color-text-subtle, #6b7280);
    margin-left: auto;
  }
}

// Ensure mat-form-fields have consistent styling and height
::ng-deep {
  .compose-form {
    mat-form-field {
      width: 100%;

      .mat-mdc-form-field-subscript-wrapper {
        margin-top: 0;
      }

      .mat-mdc-text-field-wrapper {
        padding-bottom: 0;
      }

      .mat-mdc-form-field-input-control {
        font-size: 16px;
      }

      // Ensure input height matches recipient trigger
      .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex {
        align-items: center;
      }

      // Input field should match recipient trigger height
      input.mat-mdc-input-element {
        min-height: 56px;
        padding: 16px 14px;
        box-sizing: border-box;
      }

      // Textarea should have consistent padding but allow expansion
      textarea.mat-mdc-input-element {
        padding: 16px 14px;
        box-sizing: border-box;
        min-height: auto;
      }
    }
  }
}

mat-dialog-content {
  padding-top: 8px !important;
}

mat-dialog-actions {
  padding: 16px 24px !important;

  button {
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }
}
