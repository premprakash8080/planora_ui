<div class="mail-list-container">
  <div class="mail-list-header">
    <div class="header-content">
      <h1 class="page-title">
        <mat-icon class="title-icon">mail</mat-icon>
        Inbox
      </h1>
      <p class="page-subtitle">View the latest updates and notifications</p>
    </div>
    <div class="header-actions">
      <button mat-raised-button color="primary" class="compose-button" (click)="openCompose()">
        <mat-icon>edit</mat-icon>
        Compose
      </button>
      <button mat-icon-button matTooltip="Refresh" (click)="refreshMails()">
        <mat-icon>refresh</mat-icon>
      </button>
    </div>
  </div>

  <!-- Filter Tabs -->
  <div class="mail-filters">
    <button 
      mat-button 
      [class.active]="filterType === 'all'"
      (click)="onFilterChange('all')">
      All
      <span class="filter-count" *ngIf="filterCounts.all > 0">({{ filterCounts.all }})</span>
    </button>
    <button 
      mat-button 
      [class.active]="filterType === 'unread'"
      (click)="onFilterChange('unread')">
      Unread
      <span class="filter-count" *ngIf="filterCounts.unread > 0">({{ filterCounts.unread }})</span>
    </button>
    <button 
      mat-button 
      [class.active]="filterType === 'starred'"
      (click)="onFilterChange('starred')">
      Starred
      <span class="filter-count" *ngIf="filterCounts.starred > 0">({{ filterCounts.starred }})</span>
    </button>
    <button 
      mat-button 
      [class.active]="filterType === 'archived'"
      (click)="onFilterChange('archived')">
      Archived
      <span class="filter-count" *ngIf="filterCounts.archived > 0">({{ filterCounts.archived }})</span>
    </button>
  </div>

  <!-- Mail Tab Component -->
  <app-mail-tab
    #mailTab
    [filterType]="filterType"
    [emptyMessage]="getEmptyMessage()"
    (mailDeleted)="onMailDeleted()"
    (mailStarred)="onMailStarred()">
  </app-mail-tab>
</div>
