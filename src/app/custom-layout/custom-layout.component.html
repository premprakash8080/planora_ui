<div class="app-shell" [class.app-shell--sidebar-open]="mobileSidebarOpen">
  <aside
    class="app-shell__sidebar-wrapper"
    [class.app-shell__sidebar-wrapper--mobile-open]="mobileSidebarOpen"
  >
    <app-sidebar
      [sections]="sidebarSections"
      [collapsed]="sidebarCollapsed"
      (collapsedChange)="handleSidebarCollapseChange($event)"
    ></app-sidebar>
  </aside>

  <div
    class="app-shell__backdrop"
    *ngIf="(isMobile$ | async) && mobileSidebarOpen"
    (click)="handleMenuToggle()"
  ></div>

  <div class="app-shell__main">
    <app-header
      (menuToggle)="handleMenuToggle()"
    ></app-header>

    <main class="app-shell__content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>