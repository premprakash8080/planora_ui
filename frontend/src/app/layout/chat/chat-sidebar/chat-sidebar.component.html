<aside class="chat-sidebar">
  <header class="chat-sidebar__header">
    <h3>Team Members</h3>
    <span>{{ members.length }} people</span>
  </header>

  <nav class="chat-sidebar__list" aria-label="Chat conversations">
    <button
      type="button"
      class="chat-sidebar__item"
      *ngFor="let member of members; trackBy: trackByMember"
      [class.chat-sidebar__item--active]="member.id === activeMemberId"
      (click)="handleSelect(member.id)"
    >
      <app-avatar
        size="sm"
        [src]="member.avatarUrl"
        [initials]="getInitials(member)"
        [color]="getAvatarColor(member)"
        [alt]="member.name"
      ></app-avatar>

      <div class="chat-sidebar__item-body">
        <div class="chat-sidebar__item-top">
          <span class="chat-sidebar__name">{{ member.name }}</span>
          <span
            class="chat-sidebar__status"
            [ngClass]="{
              'chat-sidebar__status--online': member.status === 'online',
              'chat-sidebar__status--away': member.status === 'away'
            }"
          >
            {{ member.status === 'online' ? 'Online' : member.status === 'away' ? 'Away' : 'Offline' }}
          </span>
        </div>
        <span class="chat-sidebar__role" *ngIf="member.title">{{ member.title }}</span>
      </div>
    </button>
  </nav>
</aside>
